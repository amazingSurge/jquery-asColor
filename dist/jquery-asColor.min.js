/*! asColor - v0.1.2 - 2014-06-10
* https://github.com/amazingSurge/asColor
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b,c){var d=function(a){return a?(3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),6===a.length?a:null):null},e={RGB:{match:/rgb\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)/,parse:function(a){return{r:"%"===a[1].substr(-1)?parseInt(2.55*a[1].slice(0,-1),10):parseInt(a[1],10),g:"%"===a[2].substr(-1)?parseInt(2.55*a[2].slice(0,-1),10):parseInt(a[2],10),b:"%"===a[3].substr(-1)?parseInt(2.55*a[3].slice(0,-1),10):parseInt(a[3],10),a:1}},to:function(a){return"rgb("+a.r+","+a.g+","+a.b+")"}},RGBA:{match:/rgba\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(a){return{r:"%"===a[1].substr(-1)?parseInt(2.55*a[1].slice(0,-1),10):parseInt(a[1],10),g:"%"===a[2].substr(-1)?parseInt(2.55*a[2].slice(0,-1),10):parseInt(a[2],10),b:"%"===a[3].substr(-1)?parseInt(2.55*a[3].slice(0,-1),10):parseInt(a[3],10),a:parseFloat(a[4])}},to:function(a){return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"}},HSL:{match:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*\)/,parse:function(a){var b={h:(a[1]%360+360)%360,s:parseFloat(a[2]/100),l:parseFloat(a[3]/100),a:1};return f.HSLToRGB(b)},to:function(a){var b=f.RGBToHSL(a);return"hsl("+parseInt(b.h,10)+","+Math.round(100*b.s)+"%,"+Math.round(100*b.l)+"%)"}},HSLA:{match:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(a){var b={h:(a[1]%360+360)%360,s:parseFloat(a[2]/100),l:parseFloat(a[3]/100),a:parseFloat(a[4])};return f.HSLToRGB(b)},to:function(a){var b=f.RGBToHSL(a);return"hsla("+parseInt(b.h,10)+","+Math.round(100*b.s)+"%,"+Math.round(100*b.l)+"%,"+a.a+")"}},HEX:{match:/#([a-f0-9]{6}|[a-f0-9]{3})/,parse:function(a){var b=a[1];return 3===b.length&&(b=d(b)),{r:parseInt(b.substr(0,2),16),g:parseInt(b.substr(2,2),16),b:parseInt(b.substr(4,2),16),a:1}},to:function(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];return c.each(b,function(a,c){1===c.length&&(b[a]="0"+c)}),"#"+b.join("")}},TRANSPARENT:{match:/transparent/,parse:function(){return{r:0,g:0,b:0,a:0}},to:function(){return"transparent"}}},f=c.asColor=function(a,b){this.value={r:0,g:0,b:0,h:0,s:0,v:0,a:1},this._format="HEX",this.init(a,b)};f.prototype={constructor:f,init:function(a,b){if("undefined"!=typeof b)this.format(b);else for(var c in e){var d=null;if(null!=(d=e[c].match.exec(a))){this.format(c);break}}this.from(a)},from:function(a){if("string"==typeof a){var b=null;for(var c in e)if(null!=(b=e[c].match.exec(a))){this.set(e[c].parse(b));break}}else"object"==typeof a&&this.set(a)},format:function(a){return"string"==typeof a&&(a=a.toUpperCase())&&"undefined"!=typeof e[a]?void("TRANSPARENT"!==a&&(this._format=a)):this._format},toRGBA:function(){return e.RGBA.to(this.value)},toRGB:function(){return e.RGB.to(this.value)},toHSLA:function(){return e.HSLA.to(this.value)},toHSL:function(){return e.HSL.to(this.value)},toHEX:function(){return e.HEX.to(this.value)},toString:function(){return 0===this.value.a?e.TRANSPARENT.to(this.value):e[this.format()].to(this.value)},get:function(){return this.value},set:function(a){var b=0,c=0;for(var d in a)-1!=="hsv".indexOf(d)?(c++,this.value[d]=a[d]):-1!=="rgb".indexOf(d)?(b++,this.value[d]=a[d]):"a"===d&&(this.value.a=a.a);if(b>c){var e=f.RGBtoHSV(this.value);this.value.h=0===this.value.r&&0===this.value.g&&0===this.value.b?a.h:e.h,this.value.s=e.s,this.value.v=e.v}else if(c>b){var g=f.HSVtoRGB(this.value);this.value.r=g.r,this.value.g=g.g,this.value.b=g.b}}},f.HSLToRGB=function(a){var b,c,d=a.h/360,e=a.s,g=a.l;c=.5>=g?g*(e+1):g+e-g*e,b=2*g-c;var h={r:f.hueToRGB(b,c,d+1/3),g:f.hueToRGB(b,c,d),b:f.hueToRGB(b,c,d-1/3)};return"undefined"!=typeof a.a&&(h.a=a.a),0===a.l&&(h.h=a.h),h},f.hueToRGB=function(a,b,c){var d;return 0>c?c+=1:c>1&&(c-=1),d=1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a,Math.round(255*d)},f.RGBToHSL=function(a){var b,c,d=a.r/255,e=a.g/255,f=a.b/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=h+g,k=.5*j;return b=g===h?0:d===h?60*(e-f)/i+360:e===h?60*(f-d)/i+120:60*(d-e)/i+240,c=0===i?0:.5>=k?i/j:i/(2-j),{h:Math.round(b)%360,s:c,l:k}},f.RGBToHEX=function(a){return e.HEX.to(a)},f.HSLToHEX=function(a){var b=f.HSLToRGB(a);return e.HEX.to(b)},f.HSVtoHEX=function(a){var b=f.HSVtoRGB(a);return e.HEX.to(b)},f.RGBtoHSV=function(a){var b,c,d=a.r/255,e=a.g/255,f=a.b/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=g,j=g-h;if(c=0===g?0:j/g,g===h)b=0;else{switch(g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return{h:360*b,s:c,v:i}},f.HSVtoRGB=function(a){var b,c,d,e=a.h%360/60,f=a.s,g=a.v,h=g*f,i=h*(1-Math.abs(e%2-1));return b=c=d=g-h,e=~~e,b+=[h,i,0,0,i,h][e],c+=[i,h,h,i,0,0][e],d+=[0,0,i,h,h,i][e],{r:Math.round(255*b),g:Math.round(255*c),b:Math.round(255*d)}}}(window,document,jQuery);